<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeRTOS Tetris: Direct To Task Notifications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeRTOS Tetris
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Direct To Task Notifications<div class="ingroups"><a class="el" href="group__freeRTOS.html">FreeRTOS Kernel</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Group that contains macros &amp; functions for task notifications.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Direct To Task Notifications:</div>
<div class="dyncontent">
<div class="center"><img src="group__TaskNotifications.png" border="0" usemap="#group____TaskNotifications" alt=""/></div>
<map name="group____TaskNotifications" id="group____TaskNotifications">
<area shape="rect" href="group__xTaskNotify.html" title=" " alt="" coords="463,5,562,31"/>
<area shape="rect" href="group__xTaskNotifyStateClear.html" title=" " alt="" coords="429,55,596,80"/>
<area shape="rect" href="group__xTaskNotifyGive.html" title=" " alt="" coords="449,104,577,129"/>
<area shape="rect" title="Group that contains macros &amp; functions for task notifications." alt="" coords="183,104,381,129"/>
<area shape="rect" href="group__xTaskNotifyWait.html" title=" " alt="" coords="449,153,576,179"/>
<area shape="rect" href="group__ulTaskNotifyTake.html" title=" " alt="" coords="447,203,578,228"/>
<area shape="rect" href="group__freeRTOS.html" title=" " alt="" coords="5,104,135,129"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__xTaskNotify"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xTaskNotify.html">xTaskNotify</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__xTaskNotifyWait"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xTaskNotifyWait.html">xTaskNotifyWait</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__xTaskNotifyGive"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xTaskNotifyGive.html">xTaskNotifyGive</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__ulTaskNotifyTake"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ulTaskNotifyTake.html">ulTaskNotifyTake</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__xTaskNotifyStateClear"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xTaskNotifyStateClear.html">xTaskNotifyStateClear</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0d2d54fb8a64011dfbb54983e4ed06bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd">xTaskNotify</a>(xTaskToNotify,  ulValue,  eAction)&#160;&#160;&#160;<a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify</a>( ( xTaskToNotify ), ( ulValue ), ( eAction ), NULL )</td></tr>
<tr class="memdesc:ga0d2d54fb8a64011dfbb54983e4ed06bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an event directly to and potentially unblock an RTOS task, and optionally update one of the receiving task’s notification values.  <a href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd">More...</a><br /></td></tr>
<tr class="separator:ga0d2d54fb8a64011dfbb54983e4ed06bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa80adec29a2eebbfe0a551684a0acca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca">xTaskNotifyAndQuery</a>(xTaskToNotify,  ulValue,  eAction,  pulPreviousNotifyValue)&#160;&#160;&#160;<a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify</a>( ( xTaskToNotify ), ( ulValue ), ( eAction ), ( pulPreviousNotifyValue ) )</td></tr>
<tr class="memdesc:gaaa80adec29a2eebbfe0a551684a0acca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the same operation as <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> with the addition that it also returns the target task's prior notification value (the notification value as it was at the time the function is called, rather than when the function returns) in the additional <code>pulPreviousNotifyValue</code> parameter.  <a href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca">More...</a><br /></td></tr>
<tr class="separator:gaaa80adec29a2eebbfe0a551684a0acca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa7bd3a4f3847b83900fd6a9f1bacfe9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__freeRTOSconfig.html#ga46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify</a> (<a class="el" href="group__TaskHandle.html#gae95f44d4cfeb4a599c6cc258d241cb6b">TaskHandle_t</a> xTaskToNotify, uint32_t ulValue, <a class="el" href="group__TaskHandle.html#gae8abc4f7da5b6880467daafbf19cd233">eNotifyAction</a> eAction, uint32_t *pulPreviousNotificationValue) PRIVILEGED_FUNCTION</td></tr>
<tr class="separator:gaa7bd3a4f3847b83900fd6a9f1bacfe9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Group that contains macros &amp; functions for task notifications. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga0d2d54fb8a64011dfbb54983e4ed06bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d2d54fb8a64011dfbb54983e4ed06bd">&#9670;&nbsp;</a></span>xTaskNotify</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xTaskNotify</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">xTaskToNotify, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ulValue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">eAction&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify</a>( ( xTaskToNotify ), ( ulValue ), ( eAction ), NULL )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;task.h&gt;</code></p>

<p>Send an event directly to and potentially unblock an RTOS task, and optionally update one of the receiving task’s notification values. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="group__freeRTOSconfig.html#gaca14daeac974218ce2497f12d614fb6b">configUSE_TASK_NOTIFICATIONS</a> must set to 1 in <a class="el" href="FreeRTOSConfig_8h_source.html">FreeRTOSConfig.h</a> (or be left undefined) for these functions to be available. The constant configTASK_NOTIFICATION_ARRAY_ENTRIES sets the number of indexes in each task's array of task notifications.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If you are using RTOS task notifications to implement binary or counting semaphore type behaviour then use the simpler xTaskNotifyGive() API function instead of <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a>.</dd></dl>
<p>Each task has an array of 'task notifications' (or just 'notifications'), each of which has a state and a 32-bit value. A direct to task notification is an event sent directly to a task that can unblock the receiving task, and optionally update one of the receiving task’s notification values in a number of different ways. For example, a notification may overwrite one of the receiving task's notification values, or just set one or more bits in one of the receiving task's notification values.</p>
<p><a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> is used to send an event directly to and potentially unblock an RTOS task, and optionally update one of the receiving task’s notification values in one of the following ways:</p><ul>
<li>Write a 32-bit number to the notification value</li>
<li>Add one (increment) the notification value</li>
<li>Set one or more bits in the notification value</li>
<li>Leave the notification value unchanged</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This function must not be called from an interrupt service routine (ISR). Use xTaskNotifyFromISR() instead.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xTaskToNotify</td><td>The handle of the task being notified. The handle to a task can be returned from the <a class="el" href="group__TaskCreation.html#gae2262d7bff03dfbb4d1a286afbbf1c2c" title="Create a new task and add it to the list of tasks that are ready to run.">xTaskCreate()</a> API function used to create the task, and the handle of the currently running task can be obtained by calling xTaskGetCurrentTaskHandle().</td></tr>
    <tr><td class="paramname">ulValue</td><td>Data that can be sent with the notification. How the data is used depends on the value of the <code>eAction</code> parameter.</td></tr>
    <tr><td class="paramname">eAction</td><td>Specifies how the notification updates the task's notification value, if at all. Valid values for <code>eAction</code> are as follows:<ul>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab7b1af2eeee53ae78eeff37c1cb6f79b">eSetBits</a> : The task's notification value is bitwise ORed with <code>ulValue</code>. <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233a04fb0e98d2400e4cd28f1593bc868822">eIncrement</a> : The task's notification value is incremented. <code>ulValue</code> is not used and <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130">eSetValueWithOverwrite</a> : The task's notification value is set to the value of <code>ulValue</code>, even if the task being notified had not yet processed the previous notification (the task already had a notification pending). <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac">eSetValueWithoutOverwrite</a> : If the task being notified did not already have a notification pending then the task's notification value is set to <code>ulValue</code> and <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> will return pdPASS. If the task being notified already had a notification pending then no action is performed and pdFAIL is returned.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a">eNoAction</a> : The task receives a notification without its notification value being updated. <code>ulValue</code> is not used and <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> always returns pdPASS in this case.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>Example Usage: </p><div class="fragment"><div class="line"><span class="comment">// Send a notification to the task referenced by xTask2Handle, potentially</span></div>
<div class="line"><span class="comment">// removing the task from the Blocked state, but without updating the task&#39;s</span></div>
<div class="line"><span class="comment">// notification value.</span></div>
<div class="line"><a class="code" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd">xTaskNotify</a>( xTask2Handle, 0, <a class="code" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a">eNoAction</a> );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set the notification value of the task referenced by xTask3Handle to 0x50,</span></div>
<div class="line"><span class="comment">// even if the task had not read its previous notification value.</span></div>
<div class="line"><a class="code" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd">xTaskNotify</a>( xTask3Handle, 0x50, <a class="code" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130">eSetValueWithOverwrite</a> );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set the notification value of the task referenced by xTask4Handle to 0xfff,</span></div>
<div class="line"><span class="comment">// but only if to do so would not overwrite the task&#39;s existing notification</span></div>
<div class="line"><span class="comment">// value before the task had obtained it (by a call to xTaskNotifyWait()</span></div>
<div class="line"><span class="comment">// or ulTaskNotifyTake()).</span></div>
<div class="line"><span class="keywordflow">if</span>( <a class="code" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd">xTaskNotify</a>( xTask4Handle, 0xfff, <a class="code" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac">eSetValueWithoutOverwrite</a> ) == pdPASS )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The task&#39;s notification value was updated.</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The task&#39;s notification value was not updated.</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaaa80adec29a2eebbfe0a551684a0acca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa80adec29a2eebbfe0a551684a0acca">&#9670;&nbsp;</a></span>xTaskNotifyAndQuery</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xTaskNotifyAndQuery</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">xTaskToNotify, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ulValue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">eAction, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pulPreviousNotifyValue&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify</a>( ( xTaskToNotify ), ( ulValue ), ( eAction ), ( pulPreviousNotifyValue ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;task.h&gt;</code></p>

<p>Performs the same operation as <a class="el" href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd" title="Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...">xTaskNotify()</a> with the addition that it also returns the target task's prior notification value (the notification value as it was at the time the function is called, rather than when the function returns) in the additional <code>pulPreviousNotifyValue</code> parameter. </p>
<dl class="section note"><dt>Note</dt><dd>This function must not be called from an interrupt service routine (ISR). Use xTaskNotifyAndQueryFromISR() instead.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://www.FreeRTOS.org/RTOS-task-notifications.html">http://www.FreeRTOS.org/RTOS-task-notifications.html</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xTaskToNotify</td><td>The handle of the task being notified. The handle to a task can be returned from the <a class="el" href="group__TaskCreation.html#gae2262d7bff03dfbb4d1a286afbbf1c2c" title="Create a new task and add it to the list of tasks that are ready to run.">xTaskCreate()</a> API function used to create the task, and the handle of the currently running task can be obtained by calling xTaskGetCurrentTaskHandle().</td></tr>
    <tr><td class="paramname">ulValue</td><td>Data that can be sent with the notification. How the data is used depends on the value of the <code>eAction</code> parameter.</td></tr>
    <tr><td class="paramname">eAction</td><td>Specifies how the notification updates the task's notification value, if at all. Valid values for <code>eAction</code> are as follows:<ul>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab7b1af2eeee53ae78eeff37c1cb6f79b">eSetBits</a> : The task's notification value is bitwise ORed with <code>ulValue</code>. <a class="el" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca" title="Performs the same operation as xTaskNotify() with the addition that it also returns the target task&#39;s...">xTaskNotifyAndQuery()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233a04fb0e98d2400e4cd28f1593bc868822">eIncrement</a> : The task's notification value is incremented. <code>ulValue</code> is not used and <a class="el" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca" title="Performs the same operation as xTaskNotify() with the addition that it also returns the target task&#39;s...">xTaskNotifyAndQuery()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130">eSetValueWithOverwrite</a> : The task's notification value is set to the value of ulValue, even if the task being notified had not yet processed the previous notification (the task already had a notification pending). <a class="el" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca" title="Performs the same operation as xTaskNotify() with the addition that it also returns the target task&#39;s...">xTaskNotifyAndQuery()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac">eSetValueWithoutOverwrite</a> : If the task being notified did not already have a notification pending then the task's notification value is set to <code>ulValue</code> and <a class="el" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca" title="Performs the same operation as xTaskNotify() with the addition that it also returns the target task&#39;s...">xTaskNotifyAndQuery()</a> will return pdPASS. If the task being notified already had a notification pending then no action is performed and pdFAIL is returned.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a">eNoAction</a> : The task receives a notification without its notification value being updated. <code>ulValue</code> is not used and <a class="el" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca" title="Performs the same operation as xTaskNotify() with the addition that it also returns the target task&#39;s...">xTaskNotifyAndQuery()</a> always returns pdPASS in this case.</li>
</ul>
</td></tr>
    <tr><td class="paramname">pulPreviousNotificationValue</td><td>Can be used to pass out the subject task's notification value before any bits are modified by the notify function.</td></tr>
  </table>
  </dd>
</dl>
<p>Example Usage: </p><div class="fragment"><div class="line">uint32_t ulPreviousValue;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Send a notification to the task referenced by xTask2Handle, </span></div>
<div class="line"><span class="comment">// potentially removing the task from the Blocked state, but without </span></div>
<div class="line"><span class="comment">// updating the task&#39;s notification value.  Store the tasks notification </span></div>
<div class="line"><span class="comment">// value in ulPreviousValue.</span></div>
<div class="line"><a class="code" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca">xTaskNotifyAndQuery</a>( xTask2Handle, 0, <a class="code" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a">eNoAction</a>, &amp;ulPreviousValue );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set the notification value of the task referenced by xTask3Handle </span></div>
<div class="line"><span class="comment">// to 0x50, even if the task had not read its previous notification value. </span></div>
<div class="line"><span class="comment">// The task&#39;s previous notification value is of no interest so the last </span></div>
<div class="line"><span class="comment">// parameter is set to NULL.</span></div>
<div class="line"><a class="code" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca">xTaskNotifyAndQuery</a>( xTask3Handle, 0x50, <a class="code" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130">eSetValueWithOverwrite</a>,  NULL );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set the notification value of the task referenced by xTask4Handle </span></div>
<div class="line"><span class="comment">// to 0xfff,</span></div>
<div class="line"><span class="comment">// but only if to do so would not overwrite the task&#39;s existing notification</span></div>
<div class="line"><span class="comment">// value before the task had obtained it (by a call to xTaskNotifyWait()</span></div>
<div class="line"><span class="comment">// or ulTaskNotifyTake()).  The task&#39;s previous notification value is saved</span></div>
<div class="line"><span class="comment">// in ulPreviousValue.</span></div>
<div class="line"><span class="keywordflow">if</span>( <a class="code" href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca">xTaskNotifyAndQuery</a>( xTask4Handle,</div>
<div class="line">                         0xfff,</div>
<div class="line">                         <a class="code" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac">eSetValueWithoutOverwrite</a>,</div>
<div class="line">                         &amp;ulPreviousValue ) == pdPASS )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The task&#39;s notification value was updated.</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The task&#39;s notification value was not updated.</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa7bd3a4f3847b83900fd6a9f1bacfe9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">&#9670;&nbsp;</a></span>xTaskGenericNotify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__freeRTOSconfig.html#ga46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> xTaskGenericNotify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__TaskHandle.html#gae95f44d4cfeb4a599c6cc258d241cb6b">TaskHandle_t</a>&#160;</td>
          <td class="paramname"><em>xTaskToNotify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__TaskHandle.html#gae8abc4f7da5b6880467daafbf19cd233">eNotifyAction</a>&#160;</td>
          <td class="paramname"><em>eAction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pulPreviousNotificationValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;task.h&gt;</code></p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="group__freeRTOSconfig.html#gaca14daeac974218ce2497f12d614fb6b">configUSE_TASK_NOTIFICATIONS</a> must be undefined or defined as 1 for this function to be available.</dd></dl>
<p>When <a class="el" href="group__freeRTOSconfig.html#gaca14daeac974218ce2497f12d614fb6b">configUSE_TASK_NOTIFICATIONS</a> is set to one each task has its own private "notification value", which is a 32-bit unsigned integer (uint32_t).</p>
<p>Events can be sent to a task using an intermediary object. Examples of such objects are queues, semaphores, mutexes and event groups. Task notifications are a method of sending an event directly to a task without the need for such an intermediary object.</p>
<p>A notification sent to a task can optionally perform an action, such as update, overwrite or increment the task's notification value. In that way task notifications can be used to send data to a task, or be used as light weight and fast binary or counting semaphores.</p>
<p>A notification sent to a task will remain pending until it is cleared by the task calling xTaskNotifyWait() or ulTaskNotifyTake(). If the task was already in the Blocked state to wait for a notification when the notification arrives then the task will automatically be removed from the Blocked state (unblocked) and the notification cleared.</p>
<p>A task can use xTaskNotifyWait() to [optionally] block to wait for a notification to be pending, or ulTaskNotifyTake() to [optionally] block to wait for its notification value to have a non-zero value. The task does not consume any CPU time while it is in the Blocked state.</p>
<dl class="section see"><dt>See also</dt><dd><a href="http://www.FreeRTOS.org/RTOS-task-notifications.html">http://www.FreeRTOS.org/RTOS-task-notifications.html</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xTaskToNotify</td><td>The handle of the task being notified. The handle to a task can be returned from the <a class="el" href="group__TaskCreation.html#gae2262d7bff03dfbb4d1a286afbbf1c2c" title="Create a new task and add it to the list of tasks that are ready to run.">xTaskCreate()</a> API function used to create the task, and the handle of the currently running task can be obtained by calling xTaskGetCurrentTaskHandle().</td></tr>
    <tr><td class="paramname">ulValue</td><td>Data that can be sent with the notification. How the data is used depends on the value of the <code>eAction</code> parameter.</td></tr>
    <tr><td class="paramname">eAction</td><td>Specifies how the notification updates the task's notification value, if at all. Valid values for <code>eAction</code> are as follows:<ul>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab7b1af2eeee53ae78eeff37c1cb6f79b">eSetBits</a> : The task's notification value is bitwise ORed with ulValue. <a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233a04fb0e98d2400e4cd28f1593bc868822">eIncrement</a> : The task's notification value is incremented. <code>ulValue</code> is not used and <a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130">eSetValueWithOverwrite</a> : The task's notification value is set to the value of ulValue, even if the task being notified had not yet processed the previous notification (the task already had a notification pending). <a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify()</a> always returns pdPASS in this case.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac">eSetValueWithoutOverwrite</a> : If the task being notified did not already have a notification pending then the task's notification value is set to ulValue and <a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify()</a> will return pdPASS. If the task being notified already had a notification pending then no action is performed and pdFAIL is returned.</li>
<li><a class="el" href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a">eNoAction</a> : The task receives a notification without its notification value being updated. ulValue is not used and <a class="el" href="group__TaskNotifications.html#gaa7bd3a4f3847b83900fd6a9f1bacfe9e">xTaskGenericNotify()</a> always returns pdPASS in this case.</li>
</ul>
</td></tr>
    <tr><td class="paramname">pulPreviousNotificationValue</td><td>Can be used to pass out the subject task's notification value before any bits are modified by the notify function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dependent on the value of eAction. See the description of the <code>eAction</code> parameter. </dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="agroup__TaskNotifications_html_gaaa80adec29a2eebbfe0a551684a0acca"><div class="ttname"><a href="group__TaskNotifications.html#gaaa80adec29a2eebbfe0a551684a0acca">xTaskNotifyAndQuery</a></div><div class="ttdeci">#define xTaskNotifyAndQuery(xTaskToNotify, ulValue, eAction, pulPreviousNotifyValue)</div><div class="ttdoc">Performs the same operation as xTaskNotify() with the addition that it also returns the target task's...</div><div class="ttdef"><b>Definition:</b> task.h:1812</div></div>
<div class="ttc" id="agroup__TaskNotifications_html_ga0d2d54fb8a64011dfbb54983e4ed06bd"><div class="ttname"><a href="group__TaskNotifications.html#ga0d2d54fb8a64011dfbb54983e4ed06bd">xTaskNotify</a></div><div class="ttdeci">#define xTaskNotify(xTaskToNotify, ulValue, eAction)</div><div class="ttdoc">Send an event directly to and potentially unblock an RTOS task, and optionally update one of the rece...</div><div class="ttdef"><b>Definition:</b> task.h:1724</div></div>
<div class="ttc" id="agroup__TaskHandle_html_ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130"><div class="ttname"><a href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233ab61fc296ef909186b5824c823b33e130">eSetValueWithOverwrite</a></div><div class="ttdeci">@ eSetValueWithOverwrite</div><div class="ttdoc">Set the task's notification value to a specific value even if the previous value has not yet been rea...</div><div class="ttdef"><b>Definition:</b> task.h:162</div></div>
<div class="ttc" id="agroup__TaskHandle_html_ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a"><div class="ttname"><a href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233abac2b17ab15444724b6f35d47cd0a64a">eNoAction</a></div><div class="ttdeci">@ eNoAction</div><div class="ttdoc">Notify the task without updating its notify value.</div><div class="ttdef"><b>Definition:</b> task.h:159</div></div>
<div class="ttc" id="agroup__TaskHandle_html_ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac"><div class="ttname"><a href="group__TaskHandle.html#ggae8abc4f7da5b6880467daafbf19cd233acc4dd3fe71b62c751187a2c4c515abac">eSetValueWithoutOverwrite</a></div><div class="ttdeci">@ eSetValueWithoutOverwrite</div><div class="ttdoc">Set the task's notification value if the previous value has been read by the task.</div><div class="ttdef"><b>Definition:</b> task.h:163</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
